
public class Map extends ObjetoCena{
    private int quantiLixo = 814;
    private int count = 0;
    private static double chanceCria = 0.94;

    /** mapa do jogo */
    private int[][] m = {
            {0,0,0,0,0,0,0,2,0,1,0,0,0,1,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,1,0,0,0,0,0,2,0,},
            {0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,3,3,3,3,3,3,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,},
            {0,0,1,1,1,0,0,0,0,0,0,0,2,1,1,1,3,3,3,3,3,3,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,},
            {0,0,1,2,0,0,0,0,0,1,0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,2,},
            {0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,3,3,3,3,3,3,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,},
            {0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,},
            {0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,3,3,3,3,3,3,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,},
            {0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,3,3,3,3,3,3,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,},
            {0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,3,3,3,3,3,3,1,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,},
            {0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,3,3,3,3,3,3,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,},
            {0,0,1,0,0,0,1,0,0,0,0,2,1,1,1,1,3,3,3,3,3,3,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,2,},
            {0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,},
            {0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,},
            {0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},
            {0,0,0,0,0,0,2,0,0,0,0,1,0,0,0,0,3,3,3,3,3,3,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,},
            {0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,},
            {0,0,1,1,1,1,1,0,0,0,0,1,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},
            {0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,3,3,3,3,3,3,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,},
            {0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,},
            {0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,},
            {2,0,1,0,0,0,1,0,0,2,0,0,0,0,0,0,3,3,3,3,3,3,2,0,0,0,1,0,0,2,0,0,0,0,0,0,0,0,},
    };

    public void fillMap() {

        for(int i = 0;i < m.length;i++){
            for(int j = 0; j < m[i].length; j++){
                if(m[i][j] == 1){
                    JogoFrame.getWalls().add(new Wall(super.width*j,
                            57+super.height*i));
                }
                if(m[i][j] == 2){
                    JogoFrame.getBins().add(new RubbishBin(super.width*j,
                            57+super.height*i));
                }
                if(m[i][j] == 3){
                    JogoFrame.getEstradas().add(new Estrada(super.width*j,
                            57+super.height*i));
                }
            }
        }
        addLixo();
    }

    public void addLixo() {
        for(int i = 0;i < m.length;i++){
            for(int j = 0; j < m[i].length; j++){
                if(m[i][j] == 0){
                    if (count<quantiLixo) {
                        if (Math.random() > chanceCria) {
                            JogoFrame.getLixos().add(new Lixo(super.width*j,
                                    57+super.height*i));
                            count++;
                        }
                    }
                }
            }
        }
    }

    public void aumentaQuantiLixo() {
        this.count = 0;
        // Aumenta a chance de geração de lixo com base no nível do jogo
        if (EstadoLabel.getLevel()<7) {
            this.chanceCria -= 0.02;
        }
    }

    public static void setChanceCria(double chanceCria) {
        Map.chanceCria = chanceCria;
    }
}